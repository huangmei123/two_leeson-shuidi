# 执行上下文
JavaScript引擎不是一行一行的执行代码 而是一段一段地分析执行。
当执行一段代码会进行一个*准备工作*，比如第一段代码是变量提升 第二个是函数提升
```js
function foo(){
    console.log('foo1')
}
foo();//foo2
function foo(){
    console.log('foo2')
}
foo();//foo2
```
问题： 一段是怎么划分的？遇到怎么样的代码才会进行准备工作（执行上下文）？

## 可执行代码
JavaScript可执行的代码类型：
全局代码、函数代码、eval代码。

## 执行上下文栈
当函数的数量大，执行上下文的数量增加，出现了执行上下文栈（ECS）来管理执行上下文。
模拟执行上下文的行为：
1. 定义上下文栈式一个数组：
ECStack = [];
当开始执行的时，最先遇到的是全局代码，所以初始化时会向上下文栈压入一个全局执行上下文，用**globalContext**表示，只有当整个应用程序结束的时候，ECStack才会被清空，所以程序结束之前ECStack底部永远有一个globalContext。
2. 简单概括 遇到函数执行 就会创建一个执行上下文
